---
title: 静态博客的构建哲学
date: 2025-07-02
tags: [架构, 前端, 思考]
---

# 静态博客的构建哲学

当我决定自己写一个博客系统时，第一个问题不是"用什么框架"，而是"我真的需要框架吗"。

## 为什么选择纯静态

市面上有太多优秀的博客方案——Hexo、Hugo、Astro、Next.js——每一个都比我从零写的要成熟得多。但我还是选择了最原始的路径：纯 HTML + CSS + JS，构建阶段只做 Markdown 到 HTML 的转换。

理由很简单：

- **零运行时依赖**。没有 hydration，没有 virtual DOM，没有打包后看不懂的代码。
- **完全可控**。每一行 CSS 都是我写的，我知道它为什么存在。
- **极致轻量**。整个站点的传输体积比一张中等大小的 JPEG 还小。

> 好的工具让你忘记它的存在。最好的博客系统，就是你不需要想"博客系统"这回事。

## 构建流程

整个构建只做三件事：

1. 读取 `posts/` 目录下的 Markdown 文件
2. 用 unified 生态（remark + rehype）将 Markdown 渲染为 HTML
3. 注入到页面模板中，输出 `.html` 文件

```js
const processor = unified()
  .use(remarkParse)
  .use(remarkGfm)
  .use(remarkMath)
  .use(remarkRehype)
  .use(rehypeKatex)
  .use(rehypeStringify);
```

没有配置文件、没有插件系统、没有主题机制。需要什么功能，直接改代码。这是最诚实的方式。

## 关于 Frontmatter

借鉴了 Hexo 的约定，每篇文章开头可以放一段 YAML 格式的元数据：

```yaml
---
title: 文章标题
date: 2025-07-02
tags: [标签A, 标签B]
---
```

构建脚本会解析这些字段，用于生成页面标题、日期显示、标签列表和阅读时间估算。这是一个很好的平衡——用最少的约定，换来结构化的元数据。

## 动效的克制

首页的滚动动画是整个站点唯一的"花活"。它的实现依赖三个 Web API：

- `stroke-dasharray` / `stroke-dashoffset`——SVG 路径绘制动画
- `getPointAtLength()`——沿路径取坐标点
- `requestAnimationFrame` + 低通滤波——丝滑的惯性运动

除此之外，所有的交互反馈都来自 CSS `transition`。没有动画库，没有 GSAP，没有 Framer Motion。

$$
\text{smoothed} = \text{current} + (\text{target} - \text{current}) \times 0.12
$$

这个简单的一阶低通滤波就足以创造出令人满意的"黄油感"。

## 写在最后

这个博客不会有评论系统、不会有搜索功能、不会有 RSS。它只做一件事：把我写的文字，用最干净的方式呈现出来。

如果你也在考虑自建博客，我的建议是：**先想清楚你要写什么，再决定怎么搭**。工具永远是次要的，内容才是一切的起点。
